# 函数2

 ### 函数与过程

~~~markdown
函数，和函数体是分开的
一个函数，可以没有函数体，一个函数体，可以不需要函数结构
~~~

* 函数的结构

~~~markdown
1. 函数的声明/函数的定义
		def 函数名(参数): 
2. 函数体：
		逻辑代码，功能代码
3. 返回值
		return 值
~~~

* 返回值

~~~markdown
1. 任何函数必定有返回值
2. 返回值的关键字： 
		return 值
3. return可以省略不写
		即使省略不写，当该函数没有返回值时Python也会在函数最后添加 return None 
		也可以直接写一个return，后面不携带任何值，此时Python会自动携带None
4. return的作用：
		1. 本职工作： 返回函数的流程
		2. 次要工作： 顺便携带一个值
5. return后可以携带一个表达式
6. return后可以携带一个函数的调用
		该函数的返回值是被调用函数的返回值
7. return后可以携带一个函数数对象(注意：函数名本质是一个变量，代表一个函数)
8. return之后能且只能携带一个数据
		如果返回多个数据，需要打包成序列
9. return之后的代码不会执行
~~~

* 函数边变量的作用域

~~~markdown
1. 全局变量
		写在文件开头，没有缩进的变量
2. 局部变量
		写在任何代码块中的变量
3. 全局变量和局部变量发生命名冲突，以局部为优先
4. 局部变量在局部代码块中临时遮蔽全局变量，并不会覆盖全局变量

5. 注意：
		1. 在函数中不能对全局变量进行+=这样的操作
				先使用，后创建的操作
		解决方案： global关键字 
				global 声明一个全局变量，该代码块中使用的该变量，一定是全局变量，即使创建了同名的局部变量，该局部变量也被视为全局变量
		2. 函数中不能对相对全局的局部变量进行+=的操作
		解决方案： nonlocal
				nonlocal声明一个局部变量，该代码块中使用的该变量，一定是上一层函数的局部变量
				如果上一层没有指定变量，则会递归的向上寻找指定变量，如果找不到指定的变量则报错
				
~~~

~~~python
def fun1():
    a=20
    def fun2():
        a=30
        def fun3():
            def fun4():
                nonlocal a
                a=40
                def fun5():
                    global a
                    a=50
                    print(a)
                fun5()
                print(a)
            fun4()
            print(a)
        fun3()
        print(a)
    fun2()
    print(a)
fun1()
print(a)
~~~

---



